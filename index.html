<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Enquete Eleições 2026</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f1f1f1;
  text-align: center;
  padding: 20px;
}
button {
  width: 320px;
  padding: 15px;
  margin: 8px auto;
  font-size: 18px;
  display: block;
  cursor: pointer;
}
#resultado {
  margin-top: 20px;
  font-size: 18px;
}
.aviso {
  margin-top: 25px;
  color: red;
  font-weight: bold;
}
</style>
</head>

<body>

<h1>Enquete Eleições 2026</h1>

<button onclick="selecionar('c1')">Flávio Bolsonaro</button>
<button onclick="selecionar('c2')">Ratinho Jr.</button>
<button onclick="selecionar('c3')">Lula da Silva</button>
<button onclick="selecionar('branco')">Voto em Branco</button>
<button onclick="selecionar('nulo')">Voto Nulo</button>

<button onclick="confirmar()">CONFIRMAR</button>

<div id="resultado"></div>

<div class="aviso">
Esta é uma enquete interativa, sem valor oficial.
</div>

<audio id="somClick" src="sons/click.mp3"></audio>
<audio id="somConfirma" src="sons/confirma.mp3"></audio>

<script>
let selecionado = "";

let votos = JSON.parse(localStorage.getItem("urna2026")) || {
  c1: 0,
  c2: 0,
  c3: 0,
  branco: 0,
  nulo: 0
};

function selecionar(id) {
  selecionado = id;
  document.getElementById("somClick").play();
}

function confirmar() {
  if (selecionado === "") {
    alert("Selecione um voto.");
    return;
  }

  votos[selecionado]++;
  localStorage.setItem("urna2026", JSON.stringify(votos));
  document.getElementById("somConfirma").play();
  selecionado = "";
  atualizar();
}

function atualizar() {
  const nomes = {
    c1: "Flávio Bolsonaro",
    c2: "Ratinho Jr.",
    c3: "Lula da Silva",
    branco: "Branco",
    nulo: "Nulo"
  };

  let total = Object.values(votos).reduce((a, b) => a + b, 0);
  let html = "<h3>Resultado</h3>";

  for (let k in votos) {
    let p = total ? ((votos[k] / total) * 100).toFixed(1) : 0;
    html += `${nomes[k]}: ${votos[k]} votos (${p}%)<br>`;
  }

  document.getElementById("resultado").innerHTML = html;
}

atualizar();
</script>

</body>
</html>
